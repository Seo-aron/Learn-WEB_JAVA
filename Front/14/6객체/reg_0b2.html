<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    //순서1. 검사할 문자열
    let userName = prompt("당신의 이름은?");

    //순서2. 정규표현식 작성
    //  "2자에서 5자사이의 한글로만 이루어진 문자열"인지 검사하는 식
    let reg1 = /^[가-힣]{2,5}$/;

    //^         : 문자열의 시작을 나타냅니다.
    //[가-힣]   : 한글 음절 범위를 지정합니다.  즉 한글로 입력했는지 판단하는 식
    //{2,5}     : 앞의 패턴 [가-힣] 이 2회 이상 5회 이하 반복됨을 의미
    //            요약 ->한글을 2자에서 5자사이로 입력했는지 판단 하는 식
    //$         : 문자열의 끝을 나타내는기호


    //순서3. test메소드 이용하여 정규표현식 패턴에 맞게 입력했는지 검사할문자열 검사
    while(true){ //무한 입력 받게 

      //우리가 입력한 이름(userName) 검사할 문자열이
      //정규표현식(reg1변수에 저장된식)의 패턴에 맞게입력했다면
      //test메소드는 true반환 함
      //요약 :  입력한 이름이  "2자에서 5자사이의 한글로만 이루어진 문자열"이라면?
      if(reg1.test(userName)){
        break; //검사를 중단하고 while반복문을 빠져나감
      }

      // "2자에서 5자사이의 한글로만 이루어진 문자열"이 아니라면?
      alert("이름 입력형식이 잘못되었습니다.!");

      //사용자에게 이름을 다시 입력 받게 하자 
      userName = prompt("당신의 이름은?");
    }
    //------------------------------------------------------------------------------

    //순서1. 검사할 문자열 
    let userCell = window.prompt("당신의 핸드폰 번호는?");
    //01012341234

    //순서2. 정규표현식 작성
    //       입력한 번호 문자열에 "010, 016 또는 011로 시작하고"
    //        그뒷자리는 3 ~ 4사이의 숫자와 마지막자리 입력은  4개의 숫자가 
    //       입력됬는지  핸드폰 번호 전체문자열을 검사하는 정규표현식 작성 
    let reg2 = /^(010|016|011)\d{3,4}\d{4}$/;
    // ^    : 문자열의 시작을 나타내는 기호
    // (010|016|011)  :  010 또는 016 또는 011 중 하나와 일치하는지 검사의 의미
    // \d{3,4}  : 숫자가 3자리에서 4자로 입력했는지 검사의 의미 
    // \d{4}$   : 마지막 입력자리($)에는 숫자(\d)로  4자로입력{4} 했는지 검사의 의미

    //순서3. 검사  test메소드 사용

    while(true){ //올바른 핸드폰 번호를 입력할떄까지 무한 반복해서 입력하게 유도 

      //정규표현식객체.test("검사할문자열");
      let result = reg2.test( userCell ); 
//입력한 검사할 문자열(핸드폰 번호)이 
//reg2정규표현객체의 식 패턴에 맞게 입력했으면 
//test메소드는 true반환, 그렇지 않으면 false반환

      if(result == true){//제대로 입력했다면?
          break;
      }

      //제대로 입력 하지 않았다면
      alert("핸드폰 입력 형식이 잘못되었습니다.");  
      
      userCell = prompt("당신의 핸드폰 번호는?");
    
    }//while반복문 닫기 
    
    //-----------------------------------------------------------------

//검사할 문자열
let userEmail=prompt("당신의 이메일은?");

/*
이 정규표현식은 "5자에서 12자 사이의 영문자, 숫자, 또는 밑줄로 시작하고, 
'@' 기호가 뒤따르며, 
2자에서 10자 사이의 소문자 알파벳,
 '.' 기호, 2자에서 3자 사이의 소문자 알파벳, 
 선택적으로 '.' 기호, 
 그리고 0자에서 2자 사이의 소문자 알파벳으로 이루어진 "이메일 주소"를 검사합니다.
*/
let reg3=/^\w{5,12}@[a-z]{2,10}[\.][a-z]{2,3}[\.]?[a-z]{0,2}$/;
// ^                : 문자열의 시작을 나타냅니다.
// \w{5,12}         : 알파벳, 숫자, 또는 밑줄(_)이 5회 이상 12회 이하 반복됨을 의미합니다.
// @                : '@' 기호가 반드시 포함되어야 함을 의미합니다.
// [a-z]{2,10}     : 소문자 알파벳이 2회 이상 10회 이하 반복됨을 의미합니다.
// [\.]            : '.' 기호가 반드시 포함되어야 함을 의미합니다. (이때 '.'는 이스케이프 처리)
// [a-z]{2,3}      : 소문자 알파벳이 2회 이상 3회 이하 반복됨을 의미합니다.
// [\.]?           : '.' 기호가 0회 또는 1회 포함될 수 있음을 의미합니다. (선택적)
// [a-z]{0,2}      : 소문자 알파벳이 0회 이상 2회 이하 반복됨을 의미합니다.
// $                : 문자열의 끝을 나타냅니다.

while(true){
  if(reg3.test(userEmail)) break;
   alert("이메일 입력 형식이 잘못되었습니다!");
   userEmail=prompt("당신의 이메일은?");
}

//이름, 핸드폰번호, 이메일 모두 정규표현식 패턴에 맞게 입력했다면 출력하자
document.write(userName,"<br />");
document.write(userCell,"<br />");
document.write(userEmail,"<br />");




  </script>
</body>
</html>